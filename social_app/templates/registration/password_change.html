{% extends 'social_app/base.html' %}

{% block title %}Change Password - SocialHub{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 0 auto;">

    <!-- Header -->
    <div class="glass-card mb-4 text-center">
        <h1 class="text-gradient" style="font-size: 2rem; margin-bottom: 0.5rem;">
            <ion-icon name="key-outline" style="vertical-align: middle; margin-right: 10px;"></ion-icon>
            Change Password
        </h1>
        <p style="color: var(--text-muted);">Update your account password for security.</p>
    </div>

    <!-- Password Change Form -->
    <div class="glass-card">
        <form method="post">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="{{ form.old_password.id_for_label }}" style="color: var(--text-main); font-weight: 500; margin-bottom: 8px; display: block;">
                    Current Password
                </label>
                {{ form.old_password }}
                {% if form.old_password.errors %}
                <div style="color: var(--accent); font-size: 0.85rem; margin-top: 5px;">
                    {{ form.old_password.errors.0 }}
                </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.new_password1.id_for_label }}" style="color: var(--text-main); font-weight: 500; margin-bottom: 8px; display: block;">
                    New Password
                </label>
                {{ form.new_password1 }}
                {% if form.new_password1.errors %}
                <div style="color: var(--accent); font-size: 0.85rem; margin-top: 5px;">
                    {{ form.new_password1.errors.0 }}
                </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.new_password2.id_for_label }}" style="color: var(--text-main); font-weight: 500; margin-bottom: 8px; display: block;">
                    Confirm New Password
                </label>
                {{ form.new_password2 }}
                {% if form.new_password2.errors %}
                <div style="color: var(--accent); font-size: 0.85rem; margin-top: 5px;">
                    {{ form.new_password2.errors.0 }}
                </div>
                {% endif %}
            </div>

            <!-- Password Requirements -->
            <div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: var(--radius-md); padding: 1rem; margin: 1rem 0;">
                <h4 style="color: var(--primary); margin: 0 0 0.5rem 0; font-size: 0.9rem;">
                    <ion-icon name="information-circle-outline" style="vertical-align: middle; margin-right: 5px;"></ion-icon>
                    Password Requirements:
                </h4>
                <ul style="margin: 0; padding-left: 1.2rem; color: var(--text-muted); font-size: 0.85rem;">
                    <li>At least 8 characters long</li>
                    <li>Cannot be too similar to your personal information</li>
                    <li>Cannot be a commonly used password</li>
                    <li>Cannot be entirely numeric</li>
                </ul>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                <a href="{% url 'profile_update' %}" class="btn btn-outline" style="padding: 12px 24px;">
                    Cancel
                </a>
                <button type="submit" class="btn btn-primary" style="padding: 12px 24px;">
                    <ion-icon name="save-outline" style="margin-right: 8px;"></ion-icon>
                    Change Password
                </button>
            </div>
        </form>
    </div>

</div>
{% endblock %}